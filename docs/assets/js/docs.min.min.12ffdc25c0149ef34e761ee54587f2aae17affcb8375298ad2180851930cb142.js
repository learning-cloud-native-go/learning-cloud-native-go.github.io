const lsKeyColorPreference="color-preference",getColorPreference=()=>{let e=localStorage.getItem(lsKeyColorPreference);return e!==null?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};let colorPreference=getColorPreference();localStorage.setItem(lsKeyColorPreference,colorPreference),document.firstElementChild.setAttribute("data-color",colorPreference);const colorPreferenceButton=document.querySelector("#content-wrapper > footer > div:last-child > button:last-child");colorPreferenceButton&&colorPreferenceButton.addEventListener("click",function(){colorPreference=="dark"?colorPreference="light":colorPreference="dark",setColorPreference()});const setColorPreference=()=>{localStorage.setItem(lsKeyColorPreference,colorPreference),document.firstElementChild.setAttribute("data-color",colorPreference)};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:e})=>{colorPreference=e?"dark":"light",setColorPreference()});const body=document.body,bodyModelOuter=document.querySelector("#body-model-outer"),asideWrapper=document.querySelector("#aside-wrapper"),asideWrapperOpenButton=document.querySelector("main > article > nav > button:first-child"),asideWrapperCloseButton=document.querySelector("#aside-wrapper > aside > div .btn");asideWrapper&&asideWrapperOpenButton&&asideWrapperOpenButton.addEventListener("click",function(){body.classList.add("model-open"),bodyModelOuter.style.display="block",asideWrapper.classList.add("open"),asideWrapperCloseButton.addEventListener("click",function(){body.classList.remove("model-open"),bodyModelOuter.style.display="none",asideWrapper.classList.remove("open")}),bodyModelOuter.addEventListener("click",function(){body.classList.remove("model-open"),bodyModelOuter.style.display="none",asideWrapper.classList.remove("open")})});const mainAside=document.querySelector("main > aside"),mainAsideOpenButton=document.querySelector("main > article > nav > button:last-child"),mainAsideCloseButton=document.querySelector("main > aside > div > .btn");mainAside&&mainAsideOpenButton&&mainAsideOpenButton.addEventListener("click",function(){body.classList.add("model-open"),bodyModelOuter.style.display="block",mainAside.classList.add("open"),mainAsideCloseButton.addEventListener("click",function(){body.classList.remove("model-open"),bodyModelOuter.style.display="none",mainAside.classList.remove("open")}),bodyModelOuter.addEventListener("click",function(){body.classList.remove("model-open"),bodyModelOuter.style.display="none",mainAside.classList.remove("open")})}),window.addEventListener("resize",function(){body.classList.contains("model-open")&&(body.classList.remove("model-open"),bodyModelOuter.style.display="none",mainAside.classList.contains("open")&&mainAside.classList.remove("open"),asideWrapper.classList.contains("open")&&asideWrapper.classList.remove("open"))});const asideWrapperSiteLogo=document.querySelector("#aside-wrapper .site-logo"),asideWrapperAsideNav=document.querySelector("#aside-wrapper > aside > nav"),adjustAsideWrapperAsideNavHeight=function(){window.innerWidth>1280?asideWrapperAsideNav.style.height=`${window.innerHeight-1-asideWrapperSiteLogo.getBoundingClientRect().height}px`:asideWrapperAsideNav.style.height=""};adjustAsideWrapperAsideNavHeight(),window.addEventListener("resize",function(){adjustAsideWrapperAsideNavHeight()}),"IntersectionObserver"in window&&document.addEventListener("DOMContentLoaded",function(){const n=document.querySelectorAll("#TableOfContents a");let e=null;const t={},s=new IntersectionObserver(n=>{n.forEach(n=>{n.isIntersecting&&(e&&e.classList.remove("active"),e=t[n.target.id],e&&e.classList.add("active"))})},{rootMargin:`0% 0% -80% 0%`});n.forEach(e=>{const n=e.getAttribute("href")?e.getAttribute("href").slice(1):null;if(n){const o=document.getElementById(n);o&&(t[n]=e,s.observe(o))}e.addEventListener("click",function(){body.classList.contains("model-open")&&mainAsideCloseButton.click()})})})